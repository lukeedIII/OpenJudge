<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 350" width="100%" height="100%">
  <defs>
    <!-- Background Base (Matched exactly to logo.svg) -->
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#05060a"/>
      <stop offset="50%" stop-color="#0a0c14"/>
      <stop offset="100%" stop-color="#020305"/>
    </linearGradient>

    <!-- Neon Gradients -->
    <linearGradient id="neonOrange" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ff4b2b"/>
      <stop offset="100%" stop-color="#ff416c"/>
    </linearGradient>
    <linearGradient id="neonCyan" x1="0%" y1="100%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#00f2fe"/>
      <stop offset="100%" stop-color="#4facfe"/>
    </linearGradient>
    <linearGradient id="neonGreen" x1="0%" y1="100%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#00ff88"/>
      <stop offset="100%" stop-color="#00df6d"/>
    </linearGradient>

    <!-- Glowing Filters -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="5" result="blur" />
      <feMerge>
        <feMergeNode in="blur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <filter id="lightGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="2" result="blur" />
      <feMerge>
        <feMergeNode in="blur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>

    <!-- Animated Grid -->
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <animateTransform attributeName="patternTransform" type="translate" from="0 0" to="40 40" dur="3s" repeatCount="indefinite"/>
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#4facfe" stroke-width="1"/>
    </pattern>
    
    <!-- Data Stream Line Mask -->
    <clipPath id="stream-clip-right">
      <rect x="0" y="-10" width="160" height="20" />
    </clipPath>
    <clipPath id="stream-clip-left">
      <rect x="-160" y="-10" width="160" height="20" />
    </clipPath>
  </defs>

  <!-- Background Layer -->
  <rect width="1000" height="350" rx="16" fill="url(#bg)"/>
  <rect width="1000" height="350" rx="16" fill="none" stroke="#1f2536" stroke-width="2"/>
  
  <g opacity="0.05">
    <rect width="1000" height="350" rx="16" fill="url(#grid)"/>
  </g>

  <!-- Title -->
  <text x="500" y="45" font-family="'Inter', Arial, sans-serif" font-weight="900" font-size="20" fill="#ffffff" letter-spacing="4" text-anchor="middle" filter="url(#lightGlow)">
    V3 <tspan fill="url(#neonCyan)">ENTERPRISE</tspan> ARCHITECTURE
  </text>
  <line x1="400" y1="55" x2="600" y2="55" stroke="url(#neonCyan)" stroke-width="1.5" opacity="0.5" filter="url(#glow)"/>

  <!-- ============================================== -->
  <!-- CENTER: THE OPENJUDGE ENGINE CORE (The Ledger) -->
  <!-- ============================================== -->
  <g transform="translate(500, 200)">
    
    <!-- Background Radar Pulse -->
    <circle cx="0" cy="0" r="100" fill="url(#neonOrange)" filter="url(#glow)" opacity="0.05">
      <animate attributeName="opacity" values="0.02; 0.08; 0.02" dur="4s" repeatCount="indefinite" />
    </circle>

    <!-- Outer Rotating Radar Ring -->
    <g>
      <animateTransform attributeName="transform" type="rotate" from="0 0 0" to="360 0 0" dur="20s" repeatCount="indefinite" />
      <circle cx="0" cy="0" r="110" fill="none" stroke="#1f2433" stroke-width="1"/>
      <circle cx="0" cy="0" r="110" fill="none" stroke="url(#neonOrange)" stroke-width="2" stroke-dasharray="80 40 20 40" filter="url(#lightGlow)" opacity="0.8"/>
    </g>

    <!-- Inner Counter-Rotating Alignment Ring -->
    <g>
      <animateTransform attributeName="transform" type="rotate" from="360 0 0" to="0 0 0" dur="12s" repeatCount="indefinite" />
      <circle cx="0" cy="0" r="85" fill="none" stroke="url(#neonCyan)" stroke-width="1.5" stroke-dasharray="30 15 5 15" opacity="0.7"/>
    </g>

    <!-- The 3D Engine Core (Ledger of Truth) -->
    <g>
      <animateTransform attributeName="transform" type="scale" values="1; 1.05; 1" dur="2s" repeatCount="indefinite" />
      <!-- Top Face -->
      <polygon points="0,-45 38.97,-22.5 0,0 -38.97,-22.5" fill="#0d1b2a" stroke="url(#neonCyan)" stroke-width="1.5" filter="url(#lightGlow)"/>
      <!-- Left Face -->
      <polygon points="0,0 -38.97,-22.5 -38.97,22.5 0,45" fill="#050811" stroke="url(#neonCyan)" stroke-width="1.5"/>
      <!-- Right Face -->
      <polygon points="0,0 38.97,-22.5 38.97,22.5 0,45" fill="#0c070c" stroke="url(#neonOrange)" stroke-width="1.5"/>
    </g>

    <!-- Pulsing Inner Validation Dot -->
    <circle cx="0" cy="0" r="6" fill="#ffffff" filter="url(#glow)">
      <animate attributeName="opacity" values="0.4; 1; 0.4" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="r" values="5; 7; 5" dur="2s" repeatCount="indefinite"/>
    </circle>

    <!-- Engine Labels -->
    <text x="0" y="-125" font-family="'Consolas', monospace" font-weight="bold" font-size="14" fill="#ffffff" text-anchor="middle" filter="url(#lightGlow)">
      OpenJudgeEngine
    </text>
    <rect x="-60" y="115" width="120" height="22" rx="4" fill="#0a0c14" stroke="url(#neonOrange)" stroke-width="1"/>
    <text x="0" y="130" font-family="'Consolas', monospace" font-size="11" font-weight="bold" fill="#ff4b2b" text-anchor="middle" filter="url(#lightGlow)">
      MATHEMATICAL VERIFY
    </text>
  </g>

  <!-- ============================================== -->
  <!-- LEFT: ENTERPRISE ENVIRONMENT (BYOT & SSE)      -->
  <!-- ============================================== -->
  <g transform="translate(180, 200)">
    
    <!-- Environment UI Container -->
    <rect x="-100" y="-80" width="200" height="160" rx="8" fill="#0a0c14" stroke="#1f2433" stroke-width="2"/>
    
    <!-- Header Tab -->
    <path d="M -100 -80 L 100 -80 L 100 -55 L -100 -55 Z" fill="#1f2433" rx="8"/>
    <circle cx="-80" cy="-67" r="4" fill="#ff4b2b"/>
    <circle cx="-65" cy="-67" r="4" fill="#facc15"/>
    <circle cx="-50" cy="-67" r="4" fill="#00ff88"/>
    <text x="0" y="-64" font-family="'Consolas', monospace" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">Enterprise Backend</text>

    <!-- 1. BYOT SDK Injection -->
    <g transform="translate(0, -25)">
      <rect x="-85" y="-15" width="170" height="28" rx="4" fill="rgba(0, 242, 254, 0.1)" stroke="url(#neonCyan)" stroke-width="1" filter="url(#lightGlow)"/>
      <text x="0" y="3" font-family="'Consolas', monospace" font-size="11" fill="#4facfe" font-weight="bold" text-anchor="middle">.register_tool()</text>
      <!-- Pulsing Node indicating injection -->
      <circle cx="70" cy="-1" r="3" fill="#ffffff" filter="url(#glow)">
        <animate attributeName="opacity" values="1; 0.2; 1" dur="1s" repeatCount="indefinite"/>
      </circle>
    </g>

    <!-- 2. SSE Telemetry Dashboard -->
    <g transform="translate(0, 25)">
      <rect x="-85" y="-15" width="170" height="40" rx="4" fill="#05060a" stroke="#1f2433" stroke-width="1"/>
      <text x="-75" y="0" font-family="'Consolas', monospace" font-size="9" fill="#8892b0">Observer UI Stream</text>
      <text x="-75" y="15" font-family="'Consolas', monospace" font-size="10" fill="#00ff88" font-weight="bold">
        yield <tspan fill="url(#neonCyan)">{"event": ...}</tspan>
      </text>
    </g>
  </g>

  <!-- ============================================== -->
  <!-- RIGHT: THE LLM INFERENCE GATEWAY               -->
  <!-- ============================================== -->
  <g transform="translate(820, 200)">
    
    <!-- LLM UI Container -->
    <rect x="-100" y="-80" width="200" height="160" rx="8" fill="#0a0c14" stroke="#1f2433" stroke-width="2"/>
    
    <!-- Header Tab -->
    <path d="M -100 -80 L 100 -80 L 100 -55 L -100 -55 Z" fill="#1f2433" rx="8"/>
    <text x="0" y="-64" font-family="'Consolas', monospace" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">LLM API Gateway</text>

    <!-- Neural Nodes -->
    <g transform="translate(0, 10)">
      <path d="M 0 0 L -40 -30 M 0 0 L 40 -30 M 0 0 L -30 40 M 0 0 L 30 40" stroke="#1f2433" stroke-width="2"/>
      <!-- Pulsing Data transferring into nodes -->
      <circle cx="0" cy="0" r="2.5" fill="url(#neonGreen)" filter="url(#glow)">
         <animateTransform attributeName="transform" type="translate" values="0,0; -40,-30" dur="1s" repeatCount="indefinite"/>
         <animate attributeName="opacity" values="1; 0" dur="1s" repeatCount="indefinite"/>
      </circle>
      <circle cx="0" cy="0" r="2.5" fill="url(#neonGreen)" filter="url(#glow)">
         <animateTransform attributeName="transform" type="translate" values="0,0; 40,-30" dur="1.2s" repeatCount="indefinite"/>
         <animate attributeName="opacity" values="1; 0" dur="1.2s" repeatCount="indefinite"/>
      </circle>

      <circle cx="-40" cy="-30" r="12" fill="#050811" stroke="url(#neonGreen)" stroke-width="1.5"/>
      <circle cx="40" cy="-30" r="12" fill="#050811" stroke="#00ff88" stroke-width="1.5"/>
      <circle cx="-30" cy="40" r="12" fill="#050811" stroke="url(#neonGreen)" stroke-width="1.5"/>
      <circle cx="30" cy="40" r="12" fill="#050811" stroke="#00ff88" stroke-width="1.5"/>
      
      <!-- Center GPT Node -->
      <circle cx="0" cy="0" r="22" fill="#0d1b2a" stroke="url(#neonCyan)" stroke-width="2" filter="url(#glow)"/>
      <text x="0" y="4" font-family="'Consolas', monospace" font-size="11" font-weight="bold" fill="#ffffff" text-anchor="middle">GPT-4</text>
    </g>
  </g>

  <!-- ============================================== -->
  <!-- DYNAMIC DATA PIPELINES (THE SYNAPSE LINKS)     -->
  <!-- ============================================== -->
  
  <!-- PIPELINE 1: Top Left (Injecting BYOT into Engine) -->
  <g transform="translate(280, 160)">
    <path d="M 0 0 L 120 0" fill="none" stroke="#1f2433" stroke-width="2"/>
    <path d="M 0 0 L 120 0" fill="none" class="data-beam" stroke="url(#neonCyan)" stroke-width="2" stroke-dasharray="8 6">
      <animate attributeName="stroke-dashoffset" values="14; 0" dur="0.8s" repeatCount="indefinite" />
    </path>
    <text x="60" y="-8" font-family="'Consolas', monospace" font-size="10" fill="#4facfe" text-anchor="middle">Dyn XML Inject</text>
  </g>

  <!-- PIPELINE 2: Bottom Left (Engine Streaming SSE JSON to Dashboard) -->
  <g transform="translate(280, 240)">
    <path d="M 120 0 L 0 0" fill="none" stroke="#1f2433" stroke-width="2"/>
    <!-- Animated Light Beam traveling right to left -->
    <g clip-path="url(#stream-clip-left)">
      <path d="M 120 0 L 80 0" fill="none" stroke="url(#neonOrange)" stroke-width="3" filter="url(#glow)">
        <animateTransform attributeName="transform" type="translate" values="40,0; -240,0" dur="1.5s" repeatCount="indefinite"/>
      </path>
    </g>
    <text x="60" y="-8" font-family="'Consolas', monospace" font-size="10" fill="#ff4b2b" text-anchor="middle">SSE Telemetry</text>
  </g>

  <!-- PIPELINE 3: Top Right (Engine Sending State to LLM) -->
  <g transform="translate(600, 160)">
    <path d="M 0 0 L 120 0" fill="none" stroke="#1f2433" stroke-width="2"/>
    <path d="M 0 0 L 120 0" fill="none" stroke="#00ff88" stroke-width="2" stroke-dasharray="8 6">
      <animate attributeName="stroke-dashoffset" values="14; 0" dur="0.8s" repeatCount="indefinite" />
    </path>
    <text x="60" y="-8" font-family="'Consolas', monospace" font-size="10" fill="#00ff88" text-anchor="middle">Prompt Context</text>
  </g>

  <!-- PIPELINE 4: Bottom Right (LLM Halucinating Output to Engine) -->
  <g transform="translate(600, 240)">
    <path d="M 120 0 L 0 0" fill="none" stroke="#1f2433" stroke-width="2"/>
    <path d="M 120 0 L 0 0" fill="none" stroke="#ff0080" stroke-width="2" stroke-dasharray="8 6">
      <animate attributeName="stroke-dashoffset" values="0; 14" dur="0.8s" repeatCount="indefinite" />
    </path>
    <circle cx="120" cy="0" r="3" fill="#ffffff" filter="url(#glow)">
      <animate attributeName="cx" values="120; 0" dur="1.2s" repeatCount="indefinite" />
    </circle>
    <text x="60" y="-8" font-family="'Consolas', monospace" font-size="10" fill="#8892b0" text-anchor="middle">XML Response</text>
  </g>

</svg>
