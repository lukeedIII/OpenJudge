<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 350" width="100%" height="100%">
  <defs>
    <!-- Background Base (Matched exactly to logo.svg) -->
    <linearGradient id="bg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#05060a"/>
      <stop offset="50%" stop-color="#0a0c14"/>
      <stop offset="100%" stop-color="#020305"/>
    </linearGradient>

    <!-- Neon Gradients -->
    <linearGradient id="neonOrange" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#ff4b2b"/>
      <stop offset="100%" stop-color="#ff416c"/>
    </linearGradient>
    <linearGradient id="neonCyan" x1="0%" y1="100%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#00f2fe"/>
      <stop offset="100%" stop-color="#4facfe"/>
    </linearGradient>

    <!-- Glowing Filters -->
    <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="5" result="blur" />
      <feMerge>
        <feMergeNode in="blur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
    <filter id="lightGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="2" result="blur" />
      <feMerge>
        <feMergeNode in="blur" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>

    <!-- Animated Grid -->
    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
      <animateTransform attributeName="patternTransform" type="translate" from="0 0" to="40 40" dur="3s" repeatCount="indefinite"/>
      <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#4facfe" stroke-width="1"/>
    </pattern>
  </defs>

  <!-- Background Layer -->
  <rect width="1000" height="350" rx="16" fill="url(#bg)"/>
  <rect width="1000" height="350" rx="16" fill="none" stroke="#1f2536" stroke-width="2"/>
  
  <g opacity="0.08">
    <rect width="1000" height="350" rx="16" fill="url(#grid)"/>
  </g>

  <!-- Title -->
  <text x="500" y="50" font-family="'Inter', -apple-system, sans-serif" font-weight="900" font-size="28" fill="#ffffff" letter-spacing="4" text-anchor="middle" filter="url(#lightGlow)">
    V3 ENTERPRISE <tspan fill="url(#neonCyan)">MICROSERVICE</tspan>
  </text>
  <line x1="150" y1="65" x2="850" y2="65" stroke="#1f2433" stroke-width="1.5"/>
  <line x1="400" y1="65" x2="600" y2="65" stroke="url(#neonCyan)" stroke-width="2" filter="url(#glow)"/>

  <!-- ============================================== -->
  <!-- LEFT: CLIENT ENVIRONMENT NODE                    -->
  <!-- ============================================== -->
  <g transform="translate(150, 210)">
    <!-- Ambient Base -->
    <circle cx="0" cy="0" r="75" fill="#0d1b2a" stroke="url(#neonCyan)" stroke-width="1" opacity="0.8"/>
    <!-- Radar Ring -->
    <g>
      <animateTransform attributeName="transform" type="rotate" from="0 0 0" to="-360 0 0" dur="15s" repeatCount="indefinite" />
      <circle cx="0" cy="0" r="90" fill="none" stroke="url(#neonCyan)" stroke-width="1.5" stroke-dasharray="20 10" filter="url(#lightGlow)" opacity="0.8"/>
    </g>
    <!-- Deep Pulse -->
    <circle cx="0" cy="0" r="30" fill="#00f2fe" filter="url(#glow)" opacity="0.2">
      <animate attributeName="opacity" values="0.1; 0.4; 0.1" dur="2s" repeatCount="indefinite"/>
    </circle>
    
    <text x="0" y="-105" font-family="'Inter', Arial, sans-serif" font-weight="bold" font-size="14" fill="#ffffff" text-anchor="middle" filter="url(#lightGlow)">CLIENT APP</text>
    
    <!-- Code Box UI -->
    <rect x="-65" y="-28" width="130" height="24" rx="4" fill="#050811" stroke="url(#neonCyan)" stroke-width="1.5"/>
    <text x="0" y="-12" font-family="'Consolas', monospace" font-size="11" fill="#ffffff" font-weight="bold" text-anchor="middle">.register_tool()</text>

    <!-- Code Box UI 2 -->
    <rect x="-65" y="4" width="130" height="24" rx="4" fill="#050811" stroke="#ff4b2b" stroke-width="1.5"/>
    <text x="0" y="20" font-family="'Consolas', monospace" font-size="11" fill="#ff4b2b" font-weight="bold" text-anchor="middle">.stream_execute()</text>
  </g>

  <!-- ============================================== -->
  <!-- RIGHT: LLM GATEWAY NODE                        -->
  <!-- ============================================== -->
  <g transform="translate(850, 210)">
    <!-- Ambient Base -->
    <circle cx="0" cy="0" r="75" fill="#0c070c" stroke="url(#neonOrange)" stroke-width="1" opacity="0.8"/>
    <!-- Radar Ring -->
    <g>
      <animateTransform attributeName="transform" type="rotate" from="0 0 0" to="360 0 0" dur="15s" repeatCount="indefinite" />
      <circle cx="0" cy="0" r="90" fill="none" stroke="url(#neonOrange)" stroke-width="1.5" stroke-dasharray="40 10 5 10" filter="url(#lightGlow)" opacity="0.8"/>
    </g>
    <!-- Deep Pulse -->
    <circle cx="0" cy="0" r="30" fill="#ff4b2b" filter="url(#glow)" opacity="0.2">
      <animate attributeName="opacity" values="0.1; 0.4; 0.1" dur="2s" repeatCount="indefinite"/>
    </circle>
    
    <text x="0" y="-105" font-family="'Inter', Arial, sans-serif" font-weight="bold" font-size="14" fill="#ffffff" text-anchor="middle" filter="url(#lightGlow)">LLM GATEWAY</text>
    <text x="0" y="5" font-family="'Consolas', monospace" font-size="18" fill="#ffffff" font-weight="bold" text-anchor="middle" filter="url(#lightGlow)">GPT-4o</text>
  </g>

  <!-- ============================================== -->
  <!-- CENTER: OPENJUDGE ENGINE                       -->
  <!-- ============================================== -->
  <g transform="translate(500, 210)">
    
    <!-- Deep Pulse Aura (Larger) -->
    <circle cx="0" cy="0" r="140" fill="url(#neonCyan)" filter="url(#glow)" opacity="0.05">
      <animate attributeName="opacity" values="0.03; 0.12; 0.03" dur="4s" repeatCount="indefinite" />
    </circle>

    <!-- Outer Rotating Radar Ring -->
    <g>
      <animateTransform attributeName="transform" type="rotate" from="0 0 0" to="360 0 0" dur="24s" repeatCount="indefinite" />
      <circle cx="0" cy="0" r="140" fill="none" stroke="#1f2433" stroke-width="1.5"/>
      <circle cx="0" cy="0" r="140" fill="none" stroke="url(#neonCyan)" stroke-width="2" stroke-dasharray="120 40 20 40" filter="url(#lightGlow)" opacity="0.8"/>
    </g>

    <!-- Counter-Rotating Inner Ring -->
    <g>
      <animateTransform attributeName="transform" type="rotate" from="360 0 0" to="0 0 0" dur="16s" repeatCount="indefinite" />
      <circle cx="0" cy="0" r="110" fill="none" stroke="url(#neonOrange)" stroke-width="1.5" stroke-dasharray="50 25 10 25" opacity="0.7"/>
    </g>

    <!-- The Ledger Core (3D Isometric Hexagon replacing flat poly) -->
    <g>
      <animateTransform attributeName="transform" type="scale" values="1.6; 1.65; 1.6" dur="2s" repeatCount="indefinite" />
      <!-- Top Face -->
      <polygon points="0,-45 38.97,-22.5 0,0 -38.97,-22.5" fill="#0d1b2a" stroke="url(#neonCyan)" stroke-width="1.5" filter="url(#lightGlow)"/>
      <!-- Left Face -->
      <polygon points="0,0 -38.97,-22.5 -38.97,22.5 0,45" fill="#050811" stroke="url(#neonCyan)" stroke-width="1.5"/>
      <!-- Right Face -->
      <polygon points="0,0 38.97,-22.5 38.97,22.5 0,45" fill="#0c070c" stroke="url(#neonOrange)" stroke-width="1.5"/>
    </g>

    <!-- Pulsing Inner Validation Dot -->
    <circle cx="0" cy="0" r="8" fill="#ffffff" filter="url(#glow)">
      <animate attributeName="opacity" values="0.4; 1; 0.4" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="r" values="6; 9; 6" dur="2s" repeatCount="indefinite"/>
    </circle>

    <text x="0" y="-160" font-family="'Inter', Arial, sans-serif" font-weight="900" font-size="18" fill="#ffffff" text-anchor="middle" letter-spacing="2" filter="url(#lightGlow)">OPENJUDGE ENGINE</text>
    
    <rect x="-85" y="150" width="170" height="26" rx="4" fill="#0a0c14" stroke="url(#neonCyan)" stroke-width="1.5"/>
    <text x="0" y="167" font-family="'Consolas', monospace" font-size="12" font-weight="bold" fill="#00f2fe" text-anchor="middle" filter="url(#lightGlow)">FastAPI HTTP Core</text>
  </g>


  <!-- ============================================== -->
  <!-- PERFECTLY LINED DATA STREAMS                   -->
  <!-- ============================================== -->

  <!-- 1. CLIENT TO ENGINE (Top Left: POST & BYOT) -->
  <g transform="translate(245, 190)">
    <!-- Base track -->
    <line x1="0" y1="0" x2="110" y2="0" stroke="#1f2433" stroke-width="2"/>
    <line x1="0" y1="0" x2="110" y2="0" stroke="url(#neonCyan)" stroke-width="2" stroke-dasharray="8 6" opacity="0.6">
      <animate attributeName="stroke-dashoffset" values="14; 0" dur="0.8s" repeatCount="indefinite" />
    </line>
    <!-- Traveling Data Packet -->
    <path d="M 0 0 L 30 0" fill="none" class="data-beam" stroke="url(#neonCyan)" stroke-width="3" filter="url(#glow)">
      <animateTransform attributeName="transform" type="translate" values="-30,0; 110,0" dur="1s" repeatCount="indefinite" />
    </path>
    <!-- Label -->
    <text x="55" y="-12" font-family="'Consolas', monospace" font-size="11" fill="#4facfe" font-weight="bold" text-anchor="middle" filter="url(#lightGlow)">POST /execute</text>
  </g>

  <!-- 2. ENGINE TO CLIENT (Bottom Left: SSE Telemetry JSON Stream) -->
  <g transform="translate(245, 230)">
    <line x1="110" y1="0" x2="0" y2="0" stroke="#1f2433" stroke-width="2"/>
    <line x1="110" y1="0" x2="0" y2="0" stroke="url(#neonOrange)" stroke-width="2" stroke-dasharray="8 6" opacity="0.6">
      <animate attributeName="stroke-dashoffset" values="0; 14" dur="0.8s" repeatCount="indefinite" />
    </line>
    <path d="M 110 0 L 80 0" fill="none" class="data-beam" stroke="url(#neonOrange)" stroke-width="3" filter="url(#glow)">
      <animateTransform attributeName="transform" type="translate" values="0,0; -110,0" dur="1s" repeatCount="indefinite" />
    </path>
    <text x="55" y="16" font-family="'Consolas', monospace" font-size="11" fill="#ff4b2b" font-weight="bold" text-anchor="middle" filter="url(#lightGlow)">yield JSON Telemetry</text>
  </g>

  <!-- 3. ENGINE TO LLM (Top Right: Dynamic XML Prompt) -->
  <g transform="translate(645, 190)">
    <line x1="0" y1="0" x2="110" y2="0" stroke="#1f2433" stroke-width="2"/>
    <line x1="0" y1="0" x2="110" y2="0" stroke="#ffffff" stroke-width="1.5" stroke-dasharray="6 4" opacity="0.5">
      <animate attributeName="stroke-dashoffset" values="10; 0" dur="0.8s" repeatCount="indefinite" />
    </line>
    <path d="M 0 0 L 30 0" fill="none" stroke="#ffffff" stroke-width="3" filter="url(#lightGlow)">
      <animateTransform attributeName="transform" type="translate" values="-30,0; 110,0" dur="1.2s" repeatCount="indefinite" />
    </path>
    <text x="55" y="-12" font-family="'Consolas', monospace" font-size="11" fill="#ffffff" text-anchor="middle" filter="url(#lightGlow)">Dynamic XML Prompt</text>
  </g>

  <!-- 4. LLM TO ENGINE (Bottom Right: Raw XML Output) -->
  <g transform="translate(645, 230)">
    <line x1="110" y1="0" x2="0" y2="0" stroke="#1f2433" stroke-width="2"/>
    <line x1="110" y1="0" x2="0" y2="0" stroke="url(#neonOrange)" stroke-width="1.5" stroke-dasharray="6 4" opacity="0.5">
      <animate attributeName="stroke-dashoffset" values="0; 10" dur="0.8s" repeatCount="indefinite" />
    </line>
    <path d="M 110 0 L 80 0" fill="none" stroke="url(#neonOrange)" stroke-width="3" filter="url(#glow)">
      <animateTransform attributeName="transform" type="translate" values="0,0; -110,0" dur="1.2s" repeatCount="indefinite" />
    </path>
    <text x="55" y="16" font-family="'Consolas', monospace" font-size="11" fill="#ff416c" text-anchor="middle" filter="url(#lightGlow)">Raw Output XML</text>
  </g>

</svg>
